<main>
  <div class="container">
    <h1>
      Welcome to {{title}}!!
    </h1>
    <form [formGroup]="deptForm" novalidate>
          <div class="form-group">
              <label>Name:</label>
              <input class="form-control" formControlName="name" type="text">
          </div>
          <div *ngIf="deptForm.controls['name'].invalid && (deptForm.controls['name'].dirty || deptForm.controls['name'].touched)" class="alert alert-danger">
              <div *ngIf="deptForm.controls['name'].errors.required">
                Name is required.
              </div>
          </div>
           <div class="form-group">
              <label>Address:</label>
              <input class="form-control" formControlName="address" type="text">
          </div>
          <div *ngIf="deptForm.controls['address'].invalid && (deptForm.controls['address'].dirty || deptForm.controls['address'].touched)" class="alert alert-danger">
              <div *ngIf="deptForm.controls['address'].errors.required">
                email is required.
              </div>
          </div>
          <button type="submit"
              [disabled]="deptForm.pristine || deptForm.invalid" class="btn btn-success">
              Save
          </button>
    </form>
    <br />
    <p>Form value: {{ deptForm.value | json }}</p>
    <p>Form status: {{ deptForm.status | json }}</p>
  </div>
    <table style="width: 100%;">
     <tr>
       <td style="text-align: left;">
         <label style="font-weight: bold;">Department Dashboard</label>
       </td>
     </tr>
     <tr>
       <td style="text-align: right;">
           <button mat-raised-button (click)="gotoList()">Create Department</button>
           <br><br>
       </td>
     </tr>
     <tr>
       <td style="text-align: center;">
         <div class="mat-elevation-z8" style="width: 100%;">
           <table mat-table [dataSource]="dataSource" matSort style="width: 100%;">

             <ng-container matColumnDef="deptName">
               <th mat-header-cell *matHeaderCellDef mat-sort-header> Department Name </th>
               <td mat-cell *matCellDef="let dept" style="text-align: left;"> {{dept.deptName}} </td>
             </ng-container>
         
             <ng-container matColumnDef="hod">
               <th mat-header-cell *matHeaderCellDef mat-sort-header> Head of Department </th>
               <td mat-cell *matCellDef="let dept" style="text-align: left;"> {{dept.hod}} </td>
             </ng-container>
       
             <ng-container matColumnDef="isAvailable">
               <th mat-header-cell *matHeaderCellDef mat-sort-header> is Available </th>
               <td mat-cell *matCellDef="let dept">
                <mat-checkbox class = "example-margin" name="isAvailable" [(ngModel)]="dept.isAvailable" disabled >
                </mat-checkbox>
              </td>
             </ng-container>
       
             <ng-container matColumnDef="secondlineApprover">
               <th mat-header-cell *matHeaderCellDef mat-sort-header> SecondLine Approver </th>
               <td mat-cell *matCellDef="let dept" style="text-align: left;"> {{dept.secondlineApprover}} </td>
             </ng-container>
                      
             <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
             <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
           </table>
           <mat-paginator [pageSizeOptions]="[2, 4, 5, 10, 20]" showFirstLastButtons class="mat-elevation-z8"></mat-paginator>
         </div>
       </td>
     </tr>   
   </table>
   </main>